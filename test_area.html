{*** 테스트영역2 | service/test_area2.php ***}

{ # header }
<style>
	img { width:100%; height:auto; }
	#header_wrap {
		z-index: 3;
		position: relative;
		background-color: #FFFFFF;
	}
	.bg {
		position: fixed;
		top: 0;      
		left: 0;
		width: 100%;
		height: 100%;
		background-image: url("https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_parralex_bg2.png"); 
		background-size: cover;  
		background-position: center center;
		transform: translateZ(0);
		will-change: transform;
		opacity: 0;
	}

	.footer_fixed {
		z-index: 1;
		position: relative;
		background-color: #FFFFFF;
	}

	.swiper-slide { width: 46vw !important; }
</style>

<script type="text/javascript" src="../js/swiper.min.js"></script>
<script src="/data/skin/front/moment/js/interaction/wow.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>


<link rel="stylesheet" href="/data/skin/mobile/moment/css/goods/swiper-bundle.css">
<link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<link type="text/css" rel="stylesheet" href="../css/swiper.min.css">



<!-- 중단 bg parallax -->
<!-- <div class="parallax" style="background-image: url(https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/tmp_parralex_bg.png); height: 100vh; background-attachment: fixed; background-position: center; background-repeat: no-repeat; background-size: cover;"> -->

<div class="container">
	<div class="bg"></div>
	<div class="whole-bg" style="display:none;">
		<div class="cover-bg" style="width: 100vw; height: 100vh; background-color: #000000; z-index: 6; position: fixed; top: 0; left: 0; opacity: 0.3;"></div>
		<div class="clap-bg" style="width: 90%; height: auto; margin:auto; background-color:#FFFFFF; opacity: 1; z-index:101; position:fixed; top:15%; left:5%;"></div>
	</div>
	<div class="dim" style="z-index:1; position:relative; background-color:#FFFFFF;">
		<div style="z-index:1; position:relative; top:-54px;">
			<img id="swap_img" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_img1.png">
			
		</div>
		<div style="z-index:1; position:relative; background-color:#FFFFFF; top:-54px; height:330px;">
			<!-- slide -->
			<div style="z-index:1; position:relative; width:100%; height:auto; margin:auto;">
				<div style="width:90%; margin:auto; font-size:15px; line-height:30px; letter-spacing:-0.45px; font-weight:500; color:#000;">포토 사용 후기(6)</div>
				<div class="slider_wrap_test" style="width: 100%; height:auto; margin:auto; float:left;">
					<div class="swiper test_info">
						<div class="swiper-wrapper" style="margin-left:15px; margin-right:15px;">
							<div class="swiper-slide"><img id="photo1" class="touch_slide_photo" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/t_slide1.png" alt="" style="width:95%; height:auto;"></div>
							<div class="swiper-slide"><img id="photo2" class="touch_slide_photo" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/t_slide2.png" alt="" style="width:95%; height:auto;"></div>
							<div class="swiper-slide"><img id="photo3" class="touch_slide_photo" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/t_slide3.png" alt="" style="width:95%; height:auto;"></div>
							<div class="swiper-slide"><img id="photo4" class="touch_slide_photo" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/t_slide4.png" alt="" style="width:95%; height:auto;"></div>
						</div>
						<div class="swiper-pagination ambassador-pagination"></div>
					</div>
				</div>
	
			</div>
			<!-- slide -->
		</div>	
		
		<div style="z-index:1; position:relative;">
			<img id="swap_im3g" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_img2.png">
		</div>

		<div id="trigger_1"></div>
		<div class="imagesequence" style='z-index:1; position:relative; width: 100%; height:auto; margin:5px auto 5px auto;' style="position:relative;">
			<!-- <img id="myimg" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/snap/001.jpg" style="width: 100%; height: auto;"> -->
			<img id="myimg" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/ps_contents_cream_vertical_00000.jpg" style="width: 100%; height: auto;">
		</div>
		<div style="z-index:1; position:relative;">
			<img id="swap_im3g" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_img3.png">
		</div>

		<div id="trigger_2"></div>
		<div class="imagesequence" style='z-index:1; position:relative; width: 100%; height:auto; margin:5px auto 5px auto;' style="position:relative;">
			<img id="myimg2" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/snap/001.jpg" style="width: 100%; height: auto;">
		</div>
		
	</div>
	<div class="txt_bx" style="height: auto; overflow: hidden; position: relative; z-index: 1; max-width: 100%; text-align: center; color: #FFFFFF;">
		<div class="trigger_bx1" style="position:absolute; top:170px; background-color: #FFFFFF;"></div>
		<div class="int_bx" style="z-index:1; position:absolute; width:100%; height:440vh; background-color: #FFFFFF;"></div>
		
		<div style="position:relative; top:60px; z-index:2;">
			<!-- 이런 분들께 추천드려요 -->
			<img style="width:70%;" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_parralex_img1.png">
		</div>
		<div style="height:18vh;">&nbsp;</div>

		<div class="trigger_bx2"></div>
		<div class="bg_img_pop" style="display:none; opacity:0; width: 80%; margin:auto; position:fixed; top:45%; left:10%;">
			<img src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_parralex_img2.png">
		</div>
		<div style="height:120vh;">&nbsp;</div>

		<div class="trigger_bx3"></div>

		<div style="height:120vh;">&nbsp;</div>

		<!-- <div class="opa_bx" style="background-color:#FFFFFF; opacity:0; z-index:0; position:relative; width:100%; height:100vh;"></div> -->

		<div style="position:relative; top:60px; z-index:6;">
			<!-- 연구 효능 신뢰 이어집니다 -->
			<img style="width:90%;" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_parralex_img3.png">
		</div>
		<div style="height:1vh;">&nbsp;</div>

		<div class="trigger_bx4"></div>
			<!-- 무엇이 다른가요 -->

		<div class="bg_img2_pop" style="display:none; opacity:0; width: 60%; margin:auto; position:fixed; top:33%; left:20%; z-index:6;">
			<img src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_parralex_img4.png">
		</div>

		<div style="height:145vh;">&nbsp;</div>

		<!-- 타이밍 wow 2s fadeinup -->
		<!-- <div class="bg_cmt " style="width: 100%; height: 300px; text-align:center; position:relative; visible:hidden; top:45vh; z-index: 6; ">
			<div style="width: 88%; margin:auto; text-align:center; position:fixed; top:45%; left:6%;" >
				<img  src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_parralex_img2.png">
			</div>

		</div> -->
		<!-- 타이밍 선행 wow 2s fadeout -->

		<!-- <div style="position:relative; top:130vh; z-index:6;">
			<img src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_parralex_img3.png">
		</div> -->
		<!-- <div style="position:relative; top:60vh;">
			<img style="width:40%;" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/tmp_parralex_btn.png">
		</div> -->
	</div>



	<div style="z-index:1; position:relative; background-color:#FFFFFF; top:-5px; margin-bottom:-5px;">
		<div style='width: 92%; height:auto; margin:auto;'>
			<img src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_img4.png" style="margin-bottom:200px;">
		</div>
		<div style="width: 100%; height:auto; margin:auto;">
			<img src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_img5.png" style="margin-bottom:220px;">
		</div>
	</div>
	
</div>
<script>

	new WOW().init();


	// define images
	let images = new Array();
	for(var i=1; i<88; i++) {
		/* i = i<10 ? '0'+i : i;
		images.push('https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/ps_contents_cream_vertical_000'+i+'.jpg'); */
		images.push('https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/ps_web_img'+i+'.jpg');
	}

	// TweenMax can tween any property of any object. We use this object to cycle through the array
	var obj = {curImg: 0};

	// create tween
	var packageObj = TweenMax.to(obj, 0.1,
		{
			curImg: images.length - 1,	        // animate propery curImg to number of images
			roundProps: "curImg",				// only integers so it can be used as an array index
			repeat: 0,							// repeat 3 times
			immediateRender: true,			    // load first image automatically
			//ease: Linear.easeNone,			// show every image the same ammount of time
			onUpdate: function () {
				$("#myimg").attr("src", images[obj.curImg]); // set the image source
			}
		}
	);

	// init controller
	var controller = new ScrollMagic.Controller();
	var packageTween = new TimelineMax();
	//packageTween.add(packageObj, 0).add(packageCover, 0);
	packageTween.add(packageObj, 0);

	// build scene
	new ScrollMagic.Scene({
		triggerElement: "#trigger_1",
		duration: 250,
		triggerHook: "0.45",
	})
	//.setPin(".imagesequence", {pushFollowers:true})
	.setTween(packageTween)
	//.addIndicators({name: "myimg (duration:500)"}) 
	.addTo(controller);

	// define images
	let images2 = new Array();
	for(var i=0; i<305; i++) {
		/* if( i < 10) {
			i = '00'+i;
		} else if (9<i && i<100) {
			i = '0'+i;
		} */
		images2.push('https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/snap/snap_t2/'+i+'.jpg');
	}
	// TweenMax can tween any property of any object. We use this object to cycle through the array
	var obj2 = {curImg2: 0};

	// create tween
	var package2Obj = TweenMax.to(obj2, 0.1,
		{
			curImg2: images2.length - 1,	        // animate propery curImg to number of images
			roundProps: "curImg2",				// only integers so it can be used as an array index
			repeat: 0,							// repeat 3 times
			immediateRender: true,			    // load first image automatically
			//ease: Linear.easeNone,			// show every image the same ammount of time
			onUpdate: function () {
				$("#myimg2").attr("src", images2[obj2.curImg2]); // set the image source
			}
		}
	);
		

	// init controller
	var controller2 = new ScrollMagic.Controller();
	var packageTween2 = new TimelineMax();
	//packageTween.add(packageObj, 0).add(packageCover, 0);
	packageTween2.add(package2Obj, 0);

	// build scene
	new ScrollMagic.Scene({
		triggerElement: "#trigger_2",
		duration: 450,
		triggerHook: "0.45",
	})
	//.setPin(".imagesequence", {pushFollowers:true})
	.setTween(packageTween2)
	//.addIndicators({name: "myimg (duration:500)"}) 
	.addTo(controller2);

// *********************************
// *********************************
// *********************************
// *********************************

	var intBx = new TimelineMax();
	var int_cover = TweenMax.staggerTo('.int_bx', 0.3,
		{
			opacity: 0,
		}
	);

	var txt_display = TweenMax.staggerTo('.bg_img_pop', 0.3,
		{
			display: 'block',
		}
	);
	var txt2_display = TweenMax.staggerTo('.bg_img2_pop', 0.3,
		{
			display: 'block',
		}
	);

	var bg_display = TweenMax.staggerTo('.bg', 0.3,
		{
			opacity: 1,
		}
	);
	
	intBx.add(int_cover,0).add(txt_display,0).add(txt2_display,0).add(bg_display,0).set($('.int_bx'), {css:{zIndex:0}});

	new ScrollMagic.Scene({
		triggerElement: ".trigger_bx1",
		triggerHook: 0,
		duration: 500,
		//offset: 50, // move trigger to center of element
		reverse: true // only do once
		
	})
	.setTween(intBx)
	.setPin(".int_bx", {pushFollowers:true})
	/* .setClassToggle("#reveal2", "visible") // add class toggle */
	//.addIndicators({name: "trigger_bx1 (duration:500)"}) // add indicators (requires plugin)
	.addTo(controller);
	
// *********************************
// *********************************
// *********************************
// *********************************

	var bgBx = new TimelineMax();
	var tween_move = TweenMax.fromTo(".bg_img_pop",
		1,
		{
		ease: Linear.easeNone,
		y: 15
		},
		{
		//ease: SlowMo.ease.config(0.7, 0.7, false),
		ease: Linear.easeNone,
		y: -15
		}
		
	);

	var tween_opacity = new TimelineMax();
	tween_opacity
	.to(".bg_img_pop", 1.0,
	{
		ease: Linear.easeNone,
		opacity: 1,
	})
	.to(".bg_img_pop", 1.0,
	{
		ease: Linear.easeNone,
		opacity: 0
	},
	"+=2.4"
	);
		
	//bgBx.add(tween_move,0).add(tween_opacity,0);
	bgBx.set('.bg_img_pop', {css:{display:'block'}}).add(tween_move,0).add(tween_opacity,0);

	new ScrollMagic.Scene({
		triggerElement: ".trigger_bx2",
		triggerHook: "0",
		duration: 1200,
		//offset: 50, // move trigger to center of element
		reverse: true // only do once
		
	})
	.setTween(bgBx)
	//.addIndicators({name: "trigger_bx2 (duration:1200)"}) // add indicators (requires plugin)
	.addTo(controller);

// *********************************
// *********************************
// *********************************
// *********************************

	var intBx = new TimelineMax();
	var int_cover = TweenMax.staggerTo('.int_bx', 0.3,
		{
			opacity: 1,
		}
	);


	
	intBx.add(int_cover,0).set($('.int_bx'), {css:{zIndex:5}});

	new ScrollMagic.Scene({
		triggerElement: ".trigger_bx3",
		triggerHook: "0",
		duration: 600,
		//offset: 50, // move trigger to center of element
		reverse: true // only do once
		
	})
	.setTween(intBx)
	.setPin(".int_bx", {pushFollowers:true})
	/* .setClassToggle("#reveal2", "visible") // add class toggle */
	//.addIndicators({name: "trigger_bx3 (duration:600)"}) // add indicators (requires plugin)
	.addTo(controller);
	
// *********************************
// *********************************
// *********************************
// *********************************

	var bg2Bx = new TimelineMax();
	var tween_move = TweenMax.fromTo(".bg_img2_pop",
		1,
		{
		ease: Linear.easeNone,
		y: 15
		},
		{
		//ease: SlowMo.ease.config(0.7, 0.7, false),
		ease: Linear.easeNone,
		y: -15
		}
		
	);

	var tween_opacity = new TimelineMax();
	tween_opacity
	.to(".bg_img2_pop", 1.0,
	{
		ease: Linear.easeNone,
		opacity: 1,
	})
	.to(".bg_img2_pop", 1.0,
	{
		ease: Linear.easeNone,
		opacity: 0
	},
	"+=0.4"
	);
		
	bg2Bx.set('.bg_img2_pop', {css:{display:'block'}}).add(tween_move,0).add(tween_opacity,0).set($('.bg'), {css:{opacity:0}});

	new ScrollMagic.Scene({
		triggerElement: ".trigger_bx4",
		triggerHook: "0",
		duration: 500,
		//offset: 50, // move trigger to center of element
		reverse: true // only do once
		
	})
	.setTween(bg2Bx)
	.setPin(".int_bx", {pushFollowers:true})
	//.addIndicators({name: "trigger_bx4 (duration:500)"}) // add indicators (requires plugin)
	.addTo(controller);

// *********************************
// *********************************
// *********************************
// *********************************

	$(function() {
		$.urlParam = function(name){
			var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
			if (results == null) {
				return null;
			} else {
				return results[1] || 0;
			}
		}


		
		
		if( $.urlParam('img_swap') ) {
			$('#swap_img').attr('src','https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/tmp_img1'+$.urlParam('img_swap') +'.jpg');
			$('#swap_img2').attr('src','https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/tmp_img2'+$.urlParam('img_swap') +'.jpg');
			$('#swap_img2').css('marginTop','80px');
			console.log($.urlParam('img_swap'));
		} else {
			console.log('non or null');
		}

		$('.touch_slide_photo').on('click',function(){
			$('.whole-bg').css('display','block');
			$('.clap-img').remove();
			//$('.clap-bg').append('<img class="clap-img" src="'+$(this).attr('src')+'">');
			$('.clap-bg').append('<img class="clap-img" src="https://plant-design-src.s3.ap-northeast-2.amazonaws.com/images/pc/snapshot/detail/test1/tmp_slide_img1.png">');
		})

		$('.whole-bg').on('click', function(){
			$('.whole-bg').css('display','none');
			$('.clap-img').remove();
		})
	})

	var swiper_test_info = new Swiper('.test_info', {
		slidesPerView: 'auto',
		freeMode: true
    });
	
</script>
{ # footer }